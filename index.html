<html><head><base href="https://websim.io/csv-search/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CSV Importador e Buscador</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background-color: #f0f0f0;
  }
  h1 {
    color: #333;
    text-align: center;
  }
  #fileInput, #searchInput {
    display: block;
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  #results {
    background-color: white;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 10px;
    margin-top: 20px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }
  th {
    background-color: #f2f2f2;
  }
</style>
</head>
<body>
  <h1>Importador e Buscador de CSV</h1>
  <input type="file" id="fileInput" accept=".csv">
  <input type="text" id="searchInput" placeholder="Digite para buscar...">
  <div id="results"></div>

  <script>
    let data = [];

    document.getElementById('fileInput').addEventListener('change', function(e) {
      const file = e.target.files[0];
      Papa.parse(file, {
        complete: function(results) {
          data = results.data;
          displayResults(data);
        }
      });
    });

    document.getElementById('searchInput').addEventListener('input', function(e) {
      const searchTerm = e.target.value.toLowerCase();
      const filteredData = data.filter(row => 
        row.some(cell => cell.toLowerCase().includes(searchTerm))
      );
      displayResults(filteredData);
    });

    function displayResults(results) {
      const resultsDiv = document.getElementById('results');
      if (results.length === 0) {
        resultsDiv.innerHTML = '<p>Nenhum resultado encontrado.</p>';
        return;
      }

      let tableHTML = '<table><tr>';
      results[0].forEach(() => {
        tableHTML += '<th></th>';
      });
      tableHTML += '</tr>';

      results.forEach(row => {
        tableHTML += '<tr>';
        row.forEach(cell => {
          tableHTML += `<td>${cell}</td>`;
        });
        tableHTML += '</tr>';
      });

      tableHTML += '</table>';
      resultsDiv.innerHTML = tableHTML;
    }
  </script>
</body></html>